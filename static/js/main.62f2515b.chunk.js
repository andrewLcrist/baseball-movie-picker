(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){e.exports=a(186)},108:function(e,t,a){},109:function(e,t,a){},180:function(e,t){},186:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(87),c=a.n(o),i=a(88);a(108),a(109),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(189),l=a(188),u=a(17),m=a(90),p=a.n(m),v=a(91),h=a(187),d=a(18),f=r.a.createContext(null),b=function(e){return function(t){return r.a.createElement(f.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t,{firebase:a}))})}},E=a(190),O=a(92),j=a.n(O),g=(a(162),a(164),j.a.initializeApp({apiKey:"AIzaSyBq23jYMGiEwMvAXXHC4QMKHLwInnYLEcA",authDomain:"xmoviekeeper-65458.firebaseapp.com",databaseURL:"https://moviekeeper-65458.firebaseio.com",projectId:"moviekeeper-65458",storageBucket:"moviekeeper-65458.appspot.com",messagingSenderId:"331356584001"})),w=g.database(),S=g.auth(),y=function(e,t){S.setPersistence("session").then(function(){return S.signInWithEmailAndPassword(e,t)}).catch(function(e){console.log("auth error",e);e.code,e.message})},M=function(){return S.signOut()},D=function(){return w.ref("baseballMovies/")},k=function(e,t){w.ref("baseballMovies/").child(e).set({movie:t},function(e){e?console.log("error",e):console.log("success")})},_=function(){return S.currentUser},T=a(8),C=a(9),A=a(12),I=a(10),N=a(11),x=a(27),R=a(20),U="/home",P={email:"",error:null},V=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(A.a)(this,Object(I.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.email;a.props.firebase.doPasswordReset(t).then(function(){a.setState(Object(R.a)({},P))}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(x.a)({},e.target.name,e.target.value))},a.state=Object(R.a)({},P),a}return Object(N.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.error,n=""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"email",value:this.state.email,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("button",{disabled:n,type:"submit"},"Reset My Password"),a&&r.a.createElement("p",null,a.message))}}]),t}(n.Component),B=function(){return r.a.createElement("p",null,r.a.createElement(h.a,{to:"/pw-forget"},"Forgot Password?"))},H=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"PasswordForget"),r.a.createElement(L,null))},L=b(V),W=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(A.a)(this,Object(I.a)(t).call(this,e))).signOut=function(){M(),a.props.signOut(),a.props.history.push("/")},a}return Object(N.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{type:"button",onClick:this.signOut},"Sign Out")}}]),t}(n.Component),Y=Object(d.a)(Object(u.b)(function(e){return{}},function(e){return{signOut:function(){return e({type:"REMOVE_USER"})}}}),E.a,b)(W),z=function(){return r.a.createElement("ul",{className:"header"},r.a.createElement("li",null,r.a.createElement(h.a,{to:U},"Home")),r.a.createElement("li",null,r.a.createElement(h.a,{to:"/account"},"Account")),r.a.createElement("li",null,r.a.createElement(h.a,{to:"/movies"},"Movies")),r.a.createElement("li",null,r.a.createElement(Y,null)))},F=function(){return r.a.createElement("ul",{className:"header"},r.a.createElement("li",null,r.a.createElement(h.a,{to:U},"Home")),r.a.createElement("li",null,r.a.createElement(h.a,{to:"/signin"},"Sign In")))},G=Object(d.a)(Object(u.b)(function(e){return{admin:e.admin}}),E.a,b)(function(e){return r.a.createElement("div",null,_()?r.a.createElement(z,null):r.a.createElement(F,null))}),q=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(A.a)(this,Object(I.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,r=t.password;a.props.handleUserSignIn(n,r),a.setState({username:"",email:"",passwordOne:"",passwordTwo:"",error:null}),a.props.history.push(U)},a.onChange=function(e){a.setState(Object(x.a)({},e.target.name,e.target.value))},a.state={username:"",email:"",password:"",passwordOne:"",passwordTwo:"",error:null},a}return Object(N.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,o=""===a||""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"email",value:t,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("input",{name:"password",value:a,onChange:this.onChange,type:"password",placeholder:"Password"}),r.a.createElement("button",{disabled:o,type:"submit"},"Take me out to the ball game"),n&&r.a.createElement("p",null,n.message))}}]),t}(n.Component),J=Object(d.a)(Object(u.b)(function(e){return{}},function(e){return{setUser:function(t){return e(function(e){return{type:"SET_USER",userEmail:e}}(t))},handleUserSignIn:function(t,a){return e(function(e,t){return{type:"HANDLE_USER_SIGN_IN",email:e,password:t}}(t,a))}}}),E.a,b)(q),K=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"SignIn"),r.a.createElement(J,null),r.a.createElement(B,null))},X=a(71),Q=function(){return r.a.createElement("div",{id:"homepage-container"},r.a.createElement(X.a,{id:"montage",videoId:"ItYScNYRA5w",opts:{playerVars:{autoplay:0,loop:1,controls:1,rel:0,playsinline:0,modestbranding:1,iv_load_policy:3,width:"100%"}}}))},$={passwordOne:"",passwordTwo:"",error:null},Z=b(function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(A.a)(this,Object(I.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.passwordOne;a.props.firebase.doPasswordUpdate(t).then(function(){a.setState(Object(R.a)({},$))}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(x.a)({},e.target.name,e.target.value))},a.state=Object(R.a)({},$),a}return Object(N.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.state,t=e.passwordOne,a=e.passwordTwo,n=e.error,o=t!==a||""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"passwordOne",value:t,onChange:this.onChange,type:"password",placeholder:"New Password"}),r.a.createElement("input",{name:"passwordTwo",value:a,onChange:this.onChange,type:"password",placeholder:"Confirm New Password"}),r.a.createElement("button",{disabled:o,type:"submit"},"Reset My Password"),n&&r.a.createElement("p",null,n.message))}}]),t}(n.Component)),ee=function(e){function t(){return Object(T.a)(this,t),Object(A.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){!_()&&this.props.history.push("/signin")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Account: "),r.a.createElement(L,null),r.a.createElement(Z,null))}}]),t}(n.Component),te=Object(d.a)(Object(u.b)(function(e){return{admin:e.admin}},function(e){return{}}),E.a,b)(ee),ae=(a(180),function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Admin"),r.a.createElement("p",null,"Restricted area! Only users with the admin role are authorized."))}),ne=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(A.a)(this,Object(I.a)(t).call(this,e))).state={showModal:!1},a}return Object(N.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this,t=Math.floor(this.props.runtime/60),a=t>1?"hours":"hour",n=this.props.runtime%60;return r.a.createElement("div",{className:"movie-poster-container"},r.a.createElement("img",{onClick:function(){return e.props.history.push("".concat("/movie","/").concat(e.props.movieTitle.replace(/\s/g,"")))},className:"movie-poster",src:"https://image.tmdb.org/t/p/w500/"+this.props.poster}),r.a.createElement("div",{className:"movie-poster-details-container"},r.a.createElement("p",null,this.props.movieTitle),r.a.createElement("p",null,this.props.releaseDate.split("-")[0]),this.props.runtime&&r.a.createElement("div",null,t," ",a," ",n," minutes"),r.a.createElement("p",null,"Watch Trailer")))}}]),t}(n.Component),re=Object(d.a)(E.a,b)(ne),oe=a(96),ce=function(e){var t=e.actor;return r.a.createElement("div",{className:"actor-card-content"},r.a.createElement("div",{className:"actor-card-profile-container"},r.a.createElement("img",{className:"actor-card-profile",src:"https://image.tmdb.org/t/p/w200/"+t.profile_path})),r.a.createElement("div",{className:"crew-text-container"},r.a.createElement("p",{className:"actor-name"},t.name),r.a.createElement("p",null,t.character)))},ie=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(A.a)(this,Object(I.a)(t).call(this,e))).state={movie:{}},a}return Object(N.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=Object(oe.filter)(this.state.movie.credits.crew,{job:"Director"}).map(function(e){return e.name}).join(", "),t=Math.floor(this.state.movie.movieData.runtime/60),a=t>1?"hours":"hour",n=this.state.movie.runtime%60;return r.a.createElement("div",{className:"movie-modal"},r.a.createElement("img",{className:"movie-modal-image-header",src:"https://image.tmdb.org/t/p/original"+this.state.movie.movieData.backdrop_path}),r.a.createElement("div",{className:"movie-modal-content-container"},r.a.createElement("div",{className:"movie-modal-header-container"},r.a.createElement("h1",{className:"movie-title"},this.state.movie.movieData.title),r.a.createElement("div",null,t," ",a," ",n," minutes")),r.a.createElement("div",{className:"movie-modal-top-container"},r.a.createElement("div",{className:"movie-details-container"},r.a.createElement("div",null,"Overview: ",this.state.movie.movieData.overview),r.a.createElement("div",null,"Director: ",e))),r.a.createElement("div",{className:"actor-card-container"},Object.values(this.state.movie.credits.cast).map(function(e){return r.a.createElement(ce,{actor:e})}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=window.location.href.split("movie/")[1],n=Object.keys(e.baseballMovies).map(function(e){return e.replace(/[^\w\s]/gi,"").toLowerCase()===a.replace(/[^\w\s]/gi,"").toLowerCase()}).indexOf(!0);return Object.values(e.baseballMovies)[n]!==t.movie?{movie:Object.values(e.baseballMovies)[n].movie}:null}}]),t}(n.Component),se=Object(d.a)(Object(u.b)(function(e){return{baseballMovies:e.movieData.movies}},function(e){return{}}),E.a,b)(ie),le=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(A.a)(this,Object(I.a)(t).call(this,e))).componentDidMount=function(){D().on("value",function(e){a.props.setMovieData(e.val())})},a.state={movies:[],showModal:!1,movieModal:{}},a}return Object(N.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"movie-container"},this.props.baseballMovies&&Object.values(this.props.baseballMovies).map(function(e,t){return r.a.createElement(re,{key:e.movie.movieData.title+"-"+t,poster:e.movie.movieData.poster_path,movieTitle:e.movie.movieData.title,releaseDate:e.movie.movieData.release_date,runtime:e.movie.movieData.runtime})}))}}]),t}(n.Component),ue=Object(d.a)(Object(u.b)(function(e){return{baseballMovies:e.movieData.movies,admin:e.admin}},function(e){return{setMovieData:function(t){return e(function(e){return{type:"SET_MOVIE_DATA",movies:e}}(t))}}}),E.a,b)(le),me=function(e){function t(e){var a;return Object(T.a)(this,t),(a=Object(A.a)(this,Object(I.a)(t).call(this,e))).handleMovieSearch=function(e){a.setState({movieSearch:e.target.value})},a.search=function(){a.props.searchMovies(a.state.movieSearch)},a.addMovieToDataBase=function(e){a.props.addMovieToDataBase(e)},a.state={movieSearch:""},a}return Object(N.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this;Math.floor(this.props.runtime/60),this.props.runtime;return r.a.createElement("div",{className:"add-movie-container"},r.a.createElement("input",{value:this.state.movieSearch,type:"text",onChange:function(t){return e.handleMovieSearch(t)}}),r.a.createElement("button",{onClick:this.search},"Search"),this.props.searchMovieResults&&0!==this.props.searchMovieResults.length&&this.props.searchMovieResults.map(function(t,a){return r.a.createElement("div",null,r.a.createElement(re,{key:t+"-"+a,poster:t.poster_path,movieTitle:t.title,releaseDate:t.release_date}),r.a.createElement("button",{onClick:function(){return e.addMovieToDataBase(t.id)}},"Add Movie to Database"))}))}}]),t}(n.Component),pe=Object(d.a)(Object(u.b)(function(e){return{searchMovieResults:e.movieData.movieSearch}},function(e){return{searchMovies:function(t){return e({type:"SEARCH_MOVIES",searchTitle:t})},addMovieToDataBase:function(t){return e({type:"ADD_MOVIE_TO_DATABASE",movieId:t})}}}),E.a,b)(me),ve=(p()(),function(e){var t=e.store,a=e.persistor;return r.a.createElement(v.a,{persistor:a},r.a.createElement(u.a,{store:t},r.a.createElement(s.a,null,r.a.createElement("div",{id:"app"},r.a.createElement(G,null),r.a.createElement("hr",null),r.a.createElement(l.a,{path:"/signin",component:K}),r.a.createElement(l.a,{path:"/pw-forget",component:H}),r.a.createElement(l.a,{path:U,component:Q}),r.a.createElement(l.a,{path:"/movies",component:ue}),r.a.createElement(l.a,{path:"/addMovie",component:pe}),r.a.createElement(l.a,{path:"/movie",component:se}),r.a.createElement(l.a,{path:"/account",component:te}),r.a.createElement(l.a,{path:"/admin",component:ae})))))}),he=a(74),de=a(97),fe=a.n(de),be=a(16),Ee=a(99),Oe=a(98);var je=Object(be.combineReducers)({movieData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MOVIE_DATA":return Object(R.a)({},e,{movies:t.movies});case"SET_MOVIES_TO_STATE":return Object(R.a)({},e,{movieSearch:t.movies});default:return e}},admin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(R.a)({},e,{userEmail:t.userEmail});case"REMOVE_USER":return Object(R.a)({},e,{userEmail:""});default:return e}}}),ge=a(15),we=a.n(ge),Se=a(28),ye=we.a.mark(_e),Me=we.a.mark(Te),De=we.a.mark(Ce),ke=we.a.mark(Ae);function _e(){return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Se.c)("SEARCH_MOVIES",Te);case 2:case"end":return e.stop()}},ye)}function Te(e){var t;return we.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e.searchTitle.replace("","+"),a.next=4,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("1500d38f789b9c7a70e564559a8c644d","&query=").concat(e.searchTitle)).then(function(e){return e.json()}).then(function(e){return t=e.results});case 4:return a.next=6,Object(Se.b)({type:"SET_MOVIES_TO_STATE",movies:t});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("fail");case 11:case"end":return a.stop()}},Me,null,[[0,8]])}function Ce(){return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Se.c)("ADD_MOVIE_TO_DATABASE",Ae);case 2:case"end":return e.stop()}},De)}function Ae(e){var t,a,n,r,o,c;return we.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return o={},i.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(e.movieId,"?api_key=").concat("1500d38f789b9c7a70e564559a8c644d","&language=en-US")).then(function(e){return e.json()}).then(function(e){return t=e});case 3:return i.next=5,fetch("https://api.themoviedb.org/3/movie/".concat(e.movieId,"/credits?api_key=").concat("1500d38f789b9c7a70e564559a8c644d")).then(function(e){return e.json()}).then(function(e){return a=e});case 5:return i.next=7,fetch("https://api.themoviedb.org/3/movie/".concat(e.movieId,"/videos?api_key=").concat("1500d38f789b9c7a70e564559a8c644d","&language=en-US")).then(function(e){return e.json()}).then(function(e){return n=e});case 7:return i.next=9,fetch("https://api.themoviedb.org/3/movie/".concat(e.movieId,"/release_dates?api_key=").concat("1500d38f789b9c7a70e564559a8c644d","&language=en-US")).then(function(e){return e.json()}).then(function(e){return r=e});case 9:return o.movieData=t,o.credits=a,o.trailers=n,o.releaseDates=r,c=t.title.replace(/\s/g,""),console.log(c),i.next=17,k(c,o);case 17:case"end":return i.stop()}},ke)}var Ie=we.a.mark(xe),Ne=we.a.mark(Re);function xe(){return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Se.c)("HANDLE_USER_SIGN_IN",Re);case 2:case"end":return e.stop()}},Ie)}function Re(e){return we.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:y(e.email,e.password),console.log(_());case 2:case"end":return t.stop()}},Ne)}var Ue=we.a.mark(Pe);function Pe(){return we.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Se.a)([_e(),Ce(),xe()]);case 2:case"end":return e.stop()}},Ue)}var Ve=Object(Ee.a)(),Be={key:"root",storage:fe.a},He=Object(he.a)(Be,je),Le=Object(be.createStore)(He,Object(i.composeWithDevTools)(Object(be.applyMiddleware)(Ve),Object(be.applyMiddleware)(Oe.a))),We=Object(he.b)(Le);Ve.run(Pe),c.a.render(r.a.createElement(ve,{store:Le,persistor:We}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[100,1,2]]]);
//# sourceMappingURL=main.62f2515b.chunk.js.map