(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){e.exports=a(186)},108:function(e,t,a){},109:function(e,t,a){},180:function(e,t){},186:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(87),i=a.n(o),c=a(88);a(108),a(109),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(189),l=a(188),u=a(17),m=a(90),p=a.n(m),v=a(91),h=a(187),d=a(18),f=r.a.createContext(null),b=function(e){return function(t){return r.a.createElement(f.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t,{firebase:a}))})}},E=a(190),O=a(92),g=a.n(O),j=(a(162),a(164),"/home"),w=g.a.initializeApp({apiKey:"AIzaSyBq23jYMGiEwMvAXXHC4QMKHLwInnYLEcA",authDomain:"xmoviekeeper-65458.firebaseapp.com",databaseURL:"https://moviekeeper-65458.firebaseio.com",projectId:"moviekeeper-65458",storageBucket:"moviekeeper-65458.appspot.com",messagingSenderId:"331356584001"}),S=w.database(),y=w.auth(),M=function(e,t){y.setPersistence("session").then(function(){y.signInWithEmailAndPassword(e,t).then(function(e){return e})}).catch(function(e){console.log("auth error",e);e.code,e.message})},k=function(){return y.signOut()},D=function(){return S.ref("baseballMovies/")},N=function(e,t){S.ref("baseballMovies/").child(e).set({movie:t},function(e){e?console.log("error",e):console.log("success")})},_=a(8),T=a(9),C=a(12),A=a(10),I=a(11),x=a(27),R=a(20),U={email:"",error:null},P=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(C.a)(this,Object(A.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.email;a.props.firebase.doPasswordReset(t).then(function(){a.setState(Object(R.a)({},U))}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(x.a)({},e.target.name,e.target.value))},a.state=Object(R.a)({},U),a}return Object(I.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.error,n=""===t;return r.a.createElement("div",{className:"signin-container"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"email",value:this.state.email,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("button",{disabled:n,type:"submit"},"Reset My Password"),a&&r.a.createElement("p",null,a.message)))}}]),t}(n.Component),V=function(){return r.a.createElement("p",null,r.a.createElement(h.a,{to:"/pw-forget"},"Forgot Password?"))},B=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"PasswordForget"),r.a.createElement(H,null))},H=b(P),L=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(C.a)(this,Object(A.a)(t).call(this,e))).signOut=function(){k(),a.props.signOut(),a.props.history.push("/")},a}return Object(I.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:"sign-out-button",type:"button",onClick:this.signOut},"Sign Out")}}]),t}(n.Component),W=Object(d.a)(Object(u.b)(function(e){return{}},function(e){return{signOut:function(){return e({type:"REMOVE_USER"})}}}),E.a,b)(L),Y=function(){return r.a.createElement("ul",{className:"header"},r.a.createElement("li",null,r.a.createElement(h.a,{to:j},r.a.createElement("p",{className:"nav-link"},"Home"))),r.a.createElement("li",null,r.a.createElement(h.a,{to:"/account"},r.a.createElement("p",{className:"nav-link"},"Account"))),r.a.createElement("li",null,r.a.createElement(h.a,{to:"/movies"},r.a.createElement("p",{className:"nav-link"},"Movies"))),r.a.createElement("li",null,r.a.createElement(W,null)))},z=function(){return r.a.createElement("ul",{className:"header"},r.a.createElement("li",null,r.a.createElement(h.a,{to:j},"Home ",r.a.createElement("p",{className:"nav-link"},"Page"))),r.a.createElement("li",null,r.a.createElement(h.a,{to:"/signin"},"Sign ",r.a.createElement("p",{className:"nav-link"},"In"))))},F=Object(d.a)(Object(u.b)(function(e){return{admin:e.admin}}),E.a,b)(function(e){return r.a.createElement("div",{id:"nav-container"},e.admin.userEmail?r.a.createElement(Y,null):r.a.createElement(z,null),r.a.createElement("hr",null))}),G=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(C.a)(this,Object(A.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=a.state,n=t.email,r=t.password,o=a.props.handleUserSignIn(n,r);o.email&&(a.setState({username:"",email:"",password:"",passwordOne:"",passwordTwo:"",error:null}),a.props.setUser(o.email),a.props.history.push(j))},a.onChange=function(e){a.setState(Object(x.a)({},e.target.name,e.target.value))},a.state={username:"",email:"",password:"",passwordOne:"",passwordTwo:"",error:null},a}return Object(I.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.error,o=""===a||""===t;return r.a.createElement("div",{className:"signin-container"},r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"email",value:t,onChange:this.onChange,type:"text",placeholder:"Email Address"}),r.a.createElement("input",{name:"password",value:a,onChange:this.onChange,type:"password",placeholder:"Password"}),r.a.createElement("button",{disabled:o,type:"submit"},"Take me out to the ball game"),n&&r.a.createElement("p",null,n.message)))}}]),t}(n.Component),q=Object(d.a)(Object(u.b)(function(e){return{}},function(e){return{setUser:function(t){return e(function(e){return{type:"SET_USER",userEmail:e}}(t))},handleUserSignIn:function(t,a){return e(function(e,t){return{type:"HANDLE_USER_SIGN_IN",email:e,password:t}}(t,a))}}}),E.a,b)(G),J=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"SignIn"),r.a.createElement(q,null),r.a.createElement(V,null))},K=a(71),X=function(){return r.a.createElement("div",{id:"homepage-container"},r.a.createElement(K.a,{id:"montage",videoId:"ItYScNYRA5w",opts:{playerVars:{autoplay:0,loop:1,controls:1,rel:0,playsinline:0,modestbranding:1,iv_load_policy:3}}}))},Q={passwordOne:"",passwordTwo:"",error:null},$=b(function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(C.a)(this,Object(A.a)(t).call(this,e))).onSubmit=function(e){var t=a.state.passwordOne;a.props.firebase.doPasswordUpdate(t).then(function(){a.setState(Object(R.a)({},Q))}).catch(function(e){a.setState({error:e})}),e.preventDefault()},a.onChange=function(e){a.setState(Object(x.a)({},e.target.name,e.target.value))},a.state=Object(R.a)({},Q),a}return Object(I.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.state,t=e.passwordOne,a=e.passwordTwo,n=e.error,o=t!==a||""===t;return r.a.createElement("form",{onSubmit:this.onSubmit},r.a.createElement("input",{name:"passwordOne",value:t,onChange:this.onChange,type:"password",placeholder:"New Password"}),r.a.createElement("input",{name:"passwordTwo",value:a,onChange:this.onChange,type:"password",placeholder:"Confirm New Password"}),r.a.createElement("button",{disabled:o,type:"submit"},"Reset My Password"),n&&r.a.createElement("p",null,n.message))}}]),t}(n.Component)),Z=function(e){function t(){return Object(_.a)(this,t),Object(C.a)(this,Object(A.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){!y.currentUser&&this.props.history.push("/signin")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Account: "),r.a.createElement(H,null),r.a.createElement($,null))}}]),t}(n.Component),ee=Object(d.a)(Object(u.b)(function(e){return{admin:e.admin}},function(e){return{}}),E.a,b)(Z),te=(a(180),function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Admin"),r.a.createElement("p",null,"Restricted area! Only users with the admin role are authorized."))}),ae=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(C.a)(this,Object(A.a)(t).call(this,e))).state={showModal:!1},a}return Object(I.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=Math.floor(this.props.runtime/60),a=t>1?"hours":"hour",n=this.props.runtime%60;return r.a.createElement("div",{className:"movie-poster-container"},r.a.createElement("div",{className:"poster-image-container"},r.a.createElement("img",{onClick:function(){return e.props.history.push("".concat("/movie","/").concat(e.props.movieTitle.replace(/\s/g,"")))},className:"movie-poster",src:"https://image.tmdb.org/t/p/w500/"+this.props.poster})),r.a.createElement("div",{className:"movie-poster-details-container"},r.a.createElement("p",{className:"poster-movie-title"},this.props.movieTitle),r.a.createElement("p",null,this.props.releaseDate.split("-")[0]),this.props.runtime&&r.a.createElement("div",null,t," ",a," ",n," minutes"),r.a.createElement("p",null,"Watch Trailer")))}}]),t}(n.Component),ne=Object(d.a)(E.a,b)(ae),re=a(96),oe=function(e){var t=e.actor;return r.a.createElement("div",{className:"actor-card-content"},r.a.createElement("div",{className:"actor-card-profile-container"},r.a.createElement("img",{className:"actor-card-profile",src:"https://image.tmdb.org/t/p/w200/"+t.profile_path})),r.a.createElement("div",{className:"crew-text-container"},r.a.createElement("p",{className:"actor-name"},t.name),r.a.createElement("p",null,t.character)))},ie=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(C.a)(this,Object(A.a)(t).call(this,e))).state={movie:{}},a}return Object(I.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){console.log(this.state.movie.movieData);var e=Object(re.filter)(this.state.movie.credits.crew,{job:"Director"}).map(function(e){return e.name}).join(", "),t=Math.floor(this.state.movie.movieData.runtime/60),a=t>1?"hours":"hour",n=this.state.movie.movieData.runtime%60;return r.a.createElement("div",{className:"movie-modal signin-container"},r.a.createElement("img",{className:"movie-modal-image-header",src:"https://image.tmdb.org/t/p/original"+this.state.movie.movieData.backdrop_path}),r.a.createElement("div",{className:"movie-modal-content-container"},r.a.createElement("div",{className:"movie-modal-header-container"},r.a.createElement("h1",{className:"movie-title"},this.state.movie.movieData.title),r.a.createElement("p",{className:"title-deets"},this.state.movie.movieData.release_date.substring(0,4)),r.a.createElement("p",{className:"title-deets"},t," ",a," ",n," minutes")),r.a.createElement("div",{className:"movie-modal-top-container"},r.a.createElement("div",{className:"movie-details-container"},r.a.createElement("div",null,this.state.movie.movieData.overview),r.a.createElement("div",null,"Director: ",e))),r.a.createElement("p",{className:"watch-trailer-details"},"WATCH TRAILER"),r.a.createElement("div",{className:"actor-card-container"},Object.values(this.state.movie.credits.cast).map(function(e){return r.a.createElement(oe,{actor:e})}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=window.location.href.split("movie/")[1],n=Object.keys(e.baseballMovies).map(function(e){return e.replace(/[^\w\s]/gi,"").toLowerCase()===a.replace(/[^\w\s]/gi,"").toLowerCase()}).indexOf(!0);return Object.values(e.baseballMovies)[n]!==t.movie?{movie:Object.values(e.baseballMovies)[n].movie}:null}}]),t}(n.Component),ce=Object(d.a)(Object(u.b)(function(e){return{baseballMovies:e.movieData.movies}},function(e){return{}}),E.a,b)(ie),se=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(C.a)(this,Object(A.a)(t).call(this,e))).componentDidMount=function(){D().on("value",function(e){a.props.setMovieData(e.val())})},a.state={movies:[],showModal:!1,movieModal:{}},a}return Object(I.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"outer-movie-container"},r.a.createElement("div",{className:"movie-container"},this.props.baseballMovies&&Object.values(this.props.baseballMovies).map(function(e,t){return r.a.createElement(ne,{key:e.movie.movieData.title+"-"+t,poster:e.movie.movieData.poster_path,movieTitle:e.movie.movieData.title,releaseDate:e.movie.movieData.release_date,runtime:e.movie.movieData.runtime})})))}}]),t}(n.Component),le=Object(d.a)(Object(u.b)(function(e){return{baseballMovies:e.movieData.movies,admin:e.admin}},function(e){return{setMovieData:function(t){return e(function(e){return{type:"SET_MOVIE_DATA",movies:e}}(t))}}}),E.a,b)(se),ue=function(e){function t(e){var a;return Object(_.a)(this,t),(a=Object(C.a)(this,Object(A.a)(t).call(this,e))).handleMovieSearch=function(e){a.setState({movieSearch:e.target.value})},a.search=function(){a.props.searchMovies(a.state.movieSearch)},a.addMovieToDataBase=function(e){a.props.addMovieToDataBase(e)},a.state={movieSearch:""},a}return Object(I.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this;Math.floor(this.props.runtime/60),this.props.runtime;return r.a.createElement("div",{className:"add-movie-container"},r.a.createElement("input",{value:this.state.movieSearch,type:"text",onChange:function(t){return e.handleMovieSearch(t)}}),r.a.createElement("button",{onClick:this.search},"Search"),this.props.searchMovieResults&&0!==this.props.searchMovieResults.length&&this.props.searchMovieResults.map(function(t,a){return r.a.createElement("div",null,r.a.createElement(ne,{key:t+"-"+a,poster:t.poster_path,movieTitle:t.title,releaseDate:t.release_date}),r.a.createElement("button",{onClick:function(){return e.addMovieToDataBase(t.id)}},"Add Movie to Database"))}))}}]),t}(n.Component),me=Object(d.a)(Object(u.b)(function(e){return{searchMovieResults:e.movieData.movieSearch}},function(e){return{searchMovies:function(t){return e({type:"SEARCH_MOVIES",searchTitle:t})},addMovieToDataBase:function(t){return e({type:"ADD_MOVIE_TO_DATABASE",movieId:t})}}}),E.a,b)(ue),pe=(p()(),function(e){var t=e.store,a=e.persistor;return r.a.createElement(v.a,{persistor:a},r.a.createElement(u.a,{store:t},r.a.createElement(s.a,null,r.a.createElement("div",{id:"app"},r.a.createElement(F,null),r.a.createElement(l.a,{path:"/signin",component:J}),r.a.createElement(l.a,{path:"/pw-forget",component:B}),r.a.createElement(l.a,{path:j,component:X}),r.a.createElement(l.a,{path:"/movies",component:le}),r.a.createElement(l.a,{path:"/addMovie",component:me}),r.a.createElement(l.a,{path:"/movie",component:ce}),r.a.createElement(l.a,{path:"/account",component:ee}),r.a.createElement(l.a,{path:"/admin",component:te})))))}),ve=a(74),he=a(97),de=a.n(he),fe=a(16),be=a(99),Ee=a(98);var Oe=Object(fe.combineReducers)({movieData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MOVIE_DATA":return Object(R.a)({},e,{movies:t.movies});case"SET_MOVIES_TO_STATE":return Object(R.a)({},e,{movieSearch:t.movies});default:return e}},admin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(R.a)({},e,{userEmail:t.userEmail});case"REMOVE_USER":return Object(R.a)({},e,{userEmail:""});default:return e}}}),ge=a(15),je=a.n(ge),we=a(28),Se=je.a.mark(De),ye=je.a.mark(Ne),Me=je.a.mark(_e),ke=je.a.mark(Te);function De(){return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(we.c)("SEARCH_MOVIES",Ne);case 2:case"end":return e.stop()}},Se)}function Ne(e){var t;return je.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e.searchTitle.replace("","+"),a.next=4,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("1500d38f789b9c7a70e564559a8c644d","&query=").concat(e.searchTitle)).then(function(e){return e.json()}).then(function(e){return t=e.results});case 4:return a.next=6,Object(we.b)({type:"SET_MOVIES_TO_STATE",movies:t});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("fail");case 11:case"end":return a.stop()}},ye,null,[[0,8]])}function _e(){return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(we.c)("ADD_MOVIE_TO_DATABASE",Te);case 2:case"end":return e.stop()}},Me)}function Te(e){var t,a,n,r,o,i;return je.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return o={},c.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(e.movieId,"?api_key=").concat("1500d38f789b9c7a70e564559a8c644d","&language=en-US")).then(function(e){return e.json()}).then(function(e){return t=e});case 3:return c.next=5,fetch("https://api.themoviedb.org/3/movie/".concat(e.movieId,"/credits?api_key=").concat("1500d38f789b9c7a70e564559a8c644d")).then(function(e){return e.json()}).then(function(e){return a=e});case 5:return c.next=7,fetch("https://api.themoviedb.org/3/movie/".concat(e.movieId,"/videos?api_key=").concat("1500d38f789b9c7a70e564559a8c644d","&language=en-US")).then(function(e){return e.json()}).then(function(e){return n=e});case 7:return c.next=9,fetch("https://api.themoviedb.org/3/movie/".concat(e.movieId,"/release_dates?api_key=").concat("1500d38f789b9c7a70e564559a8c644d","&language=en-US")).then(function(e){return e.json()}).then(function(e){return r=e});case 9:return o.movieData=t,o.credits=a,o.trailers=n,o.releaseDates=r,i=t.title.replace(/\s/g,""),console.log(i),c.next=17,N(i,o);case 17:case"end":return c.stop()}},ke)}var Ce=je.a.mark(Ie),Ae=je.a.mark(xe);function Ie(){return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(we.c)("HANDLE_USER_SIGN_IN",xe);case 2:case"end":return e.stop()}},Ce)}function xe(e){return je.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:M(e.email,e.password);case 1:case"end":return t.stop()}},Ae)}var Re=je.a.mark(Ue);function Ue(){return je.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(we.a)([De(),_e(),Ie()]);case 2:case"end":return e.stop()}},Re)}var Pe=Object(be.a)(),Ve={key:"root",storage:de.a},Be=Object(ve.a)(Ve,Oe),He=Object(fe.createStore)(Be,Object(c.composeWithDevTools)(Object(fe.applyMiddleware)(Pe),Object(fe.applyMiddleware)(Ee.a))),Le=Object(ve.b)(He);Pe.run(Ue),i.a.render(r.a.createElement(pe,{store:He,persistor:Le}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[100,1,2]]]);
//# sourceMappingURL=main.9a6a4313.chunk.js.map